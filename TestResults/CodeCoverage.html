<!DOCTYPE html>
<html lang="en">
<head>
<title>Coverage</title>
<meta charset="utf-8"/>
<style>
@media screen{
    html {background-color: #FFFFF0;}
body {
    font-size: 16px;
    font-family : Verdana, "Bitstream Vera Sans", "DejaVu Sans", Tahoma, Geneva, Arial, Sans-serif;
    margin: 1em;
}
th, td {padding: 5px 10px;}
th {text-align: left;}
h1, h2, h3, h4, h5, h6 {color: #424242;}
h1 {font-size: 22px;}
h2 {font-size: 18px; margin-top: 2em; margin-bottom:0.3em;}
tbody tr:nth-child(even) {background-color: #F0F0F0;}
tbody tr:nth-child(odd) {background-color: #FAFAFA;}
th {background-color: #E6E6E6;color: #424242;}
table {border: silver 1px solid; font-size: 14px;font-family: APLFont, monospace;}
code , code a {font-size: 14px; font-family: APLFont, monospace;}
code.header {
    font-size: 16px; 
    font-family: APLFont, monospace; 
    margin: 1.5em 0.5em 0 0.5em; 
    padding:0;
    display: block;
}
div.code-block {
    border: 1px silver dashed;
    background-color: #F2F2F2;
    display: block;
    margin: 0.5em 0.5em 0.5em 0.5em;
    padding: 0.5em;
}
div.code-block.missing {
    background-color: #fa605254;
}
div.code-block code {display: block; white-space: pre-wrap; margin:0; padding:0; word-wrap: break-word;}
.emphasize { font-weight: 800;}
ul li, ol li {margin: 0.7em 0.2em;}
.float-right {float:right;}
.no-underline {    text-decoration :none;}
.top-links {font-size:20px; padding-left: 0.6em;}
.align-right {text-align: right;}
#footer hr {margin-top:1.5em;}
#footer p {margin-top:5px; padding-top:0; font-size: 9px;}
@font-face {
        font-family: "APLFont";
    src:
        local("APL385 Unicode"),
        url("https://misc.aplteam.com/apl385.ttf") format("truetype");
}
.info {border: 1px silver dashed; background-color: #F2F2F2;margin: 0.5em; padding: 0.5em;}
}
@media print{@page {size: portrait}
@page {
    margin: 1cm 1cm 1cm 1.75cm;
    @bottom-right {
        content: counter(page) " / " counter(pages);
  }
}
body {
    font: 12pt "Times New Roman", Times, serif;
    line-height: 1.2;
     /* CSS3 filter, at the moment Webkit only. Prefix it for future implementations */
    -webkit-filter: grayscale(100%);
    filter: grayscale(100%); /* future-proof */
}
h1 {font-size: 18pt;}
h2 {font-size: 16pt; margin-top: 10pt; margin-bottom: 3pt;}
th, td {padding: 2pt 3pt;}
th {text-align: left;background-color: #DBDBDB;}
tbody tr:nth-child(odd) {background-color: #EDEDED;}
table {
    color-adjust: exact !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    font-size: 8pt;
    font-family: APLFont, monospace;
}
div.keep-together {break-inside: avoid; break-before:auto;}
table {border: silver 1pt solid;}
code , code a {font-size: 8pt; font-family: APLFont, monospace;}
code.header {
    font-size: 8pt;
    font-family: APLFont, monospace;
    margin: 7pt 3pt 0 10pt;
    padding:0;
    display: block;
}
div.code-block {
    border: 1pt silver dashed;
    background-color: #F2F2F2;
    display: block;
    margin: 4pt 4pt 4pt 4pt;
    padding: 4pt;
}
div.code-block code {display: block; white-space: pre-wrap; margin:0; padding:0; word-wrap: break-word;}
.emphasize { font-weight: 800;}
a {text-decoration: none;color: black;}
ul li, ol li {margin: 8pt 3pt;}
.no-print {display:none;}
.align-right {text-align: right;}
#footer hr {margin-top:1.5em;}
#footer p {margin-top:5pt; padding-top:0; font-size: 6pt;}
@font-face {
        font-family: "APLFont";
    src:
        local("APL385 Unicode"),
        url("https://misc.aplteam.com/apl385.ttf") format("truetype");
}
.info {border: 1px silver dashed; background-color: #F2F2F2;margin: 8px; padding: 8px;}
}
</style>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/jq-3.6.0/dt-1.11.2/b-2.0.0/b-print-2.0.0/fh-3.1.9/r-2.2.9/datatables.min.css"/>
<script type="text/javascript" src="https://cdn.datatables.net/v/dt/jq-3.6.0/dt-1.11.2/b-2.0.0/b-print-2.0.0/fh-3.1.9/r-2.2.9/datatables.min.js"></script>
</head>
<body>
<h1 id="top">Coverage Report</h1>
<p>Watched: 47 fns/opr within <code>#.CompareFiles.CompareFiles</code></p>
<p>The test suite was executed once:</p>
<table>
<thead>
<tr><th>Executed at</th><th>APLVersion</th><th>Memory (MB)</th></tr>
</thead>
<tbody>
<tr><td>2023-06-15 15:58:50</td><td>Windows-64 ⋄ 18.2.46943.0 ⋄ W ⋄ Development ⋄ Unicode</td><td>51</td></tr>
</tbody>
</table>
<p>Overall 0% of the testable code is covered.</p>
<p>(Comment lines, empty lines, all <code>:End</code>* lines etc. are ignored)</p>
<p>10 of the fns/opr are 100% covered.</p>
<div id="partly-covered" class="keep-together">
<table id="percent">
<thead>
<tr><th style="text-align:left;">Function/Operator</th><th style="text-align:left;">Lines not executed</th><th style="text-align:left;">Coverage</th><th style="text-align:right;">≢</th></tr>
</thead>
<tbody>
<tr class="uncovered"><td><a href="#listing_1" title="Link to listing">#.CompareFiles.CompareFiles.Compare</a></td><td>8←≢1-2,4-5,7-8,10-11</td><td>0</td><td>8</td></tr>
<tr class="uncovered"><td><a href="#listing_2" title="Link to listing">#.CompareFiles.CompareFiles.CreateAPI</a></td><td>10←≢4-8,10-14</td><td>0</td><td>10</td></tr>
<tr class="uncovered"><td><a href="#listing_3" title="Link to listing">#.CompareFiles.CompareFiles.DropUnknownUtilities</a></td><td>12←≢2-10,13-15</td><td>0</td><td>12</td></tr>
<tr class="uncovered"><td><a href="#listing_4" title="Link to listing">#.CompareFiles.CompareFiles.EstablishAPIForNewFunctions</a></td><td>5←≢1-4,6</td><td>0</td><td>5</td></tr>
<tr class="uncovered"><td><a href="#listing_5" title="Link to listing">#.CompareFiles.CompareFiles.EstablishCompareEXE</a></td><td>32←≢7-24,26-27,29-33,35-38,42-44</td><td>0</td><td>32</td></tr>
<tr class="uncovered"><td><a href="#listing_6" title="Link to listing">#.CompareFiles.CompareFiles.GetIniFilename</a></td><td>1</td><td>0</td><td>1</td></tr>
<tr class="uncovered"><td><a href="#listing_7" title="Link to listing">#.CompareFiles.CompareFiles.GetMyUCMDsPath</a></td><td>1, 2, 4</td><td>0</td><td>3</td></tr>
<tr class="uncovered"><td><a href="#listing_8" title="Link to listing">#.CompareFiles.CompareFiles.GetPathToINI</a></td><td>9←≢1-7,9,11</td><td>0</td><td>9</td></tr>
<tr class="uncovered"><td><a href="#listing_9" title="Link to listing">#.CompareFiles.CompareFiles.Init</a></td><td>15←≢1-4,6,8-11,13,15-19</td><td>0</td><td>15</td></tr>
<tr class="uncovered"><td><a href="#listing_10" title="Link to listing">#.CompareFiles.CompareFiles.LoadUserDefinedComparisonUtilities</a></td><td>17←≢3-17,19-20</td><td>0</td><td>17</td></tr>
<tr class="uncovered"><td><a href="#listing_11" title="Link to listing">#.CompareFiles.CompareFiles.Public</a></td><td>6←≢1-6</td><td>0</td><td>6</td></tr>
<tr class="uncovered"><td><a href="#listing_12" title="Link to listing">#.CompareFiles.CompareFiles.ReadJSON5</a></td><td>1, 2</td><td>0</td><td>2</td></tr>
<tr class="uncovered"><td><a href="#listing_13" title="Link to listing">#.CompareFiles.CompareFiles.RunProcess</a></td><td>41←≢4-29,31-44,47</td><td>0</td><td>41</td></tr>
<tr class="uncovered"><td><a href="#listing_14" title="Link to listing">#.CompareFiles.CompareFiles.Use</a></td><td>8←≢5-12</td><td>0</td><td>8</td></tr>
<tr class="uncovered"><td><a href="#listing_15" title="Link to listing">#.CompareFiles.CompareFiles.Version</a></td><td>5←≢2-3,5,7-8</td><td>0</td><td>5</td></tr>
<tr class="uncovered"><td><a href="#listing_16" title="Link to listing">#.CompareFiles.CompareFiles.WriteJSON5</a></td><td>1, 2</td><td>0</td><td>2</td></tr>
<tr class="uncovered"><td><a href="#listing_17" title="Link to listing">#.CompareFiles.CompareFiles.API.GetPathToINI</a></td><td>1</td><td>0</td><td>1</td></tr>
<tr class="uncovered"><td><a href="#listing_18" title="Link to listing">#.CompareFiles.CompareFiles.API.Version</a></td><td>1</td><td>0</td><td>1</td></tr>
<tr class="uncovered"><td><a href="#listing_19" title="Link to listing">#.CompareFiles.CompareFiles.API.ComparisonTools.CreateParmsForBeyondCompare</a></td><td>1</td><td>0</td><td>1</td></tr>
<tr class="uncovered"><td><a href="#listing_20" title="Link to listing">#.CompareFiles.CompareFiles.API.ComparisonTools.CreateParmsForCompareIt</a></td><td>1</td><td>0</td><td>1</td></tr>
<tr class="uncovered"><td><a href="#listing_21" title="Link to listing">#.CompareFiles.CompareFiles.API.ComparisonTools.CreateParmsForKDiff3</a></td><td>1</td><td>0</td><td>1</td></tr>
<tr class="uncovered"><td><a href="#listing_22" title="Link to listing">#.CompareFiles.CompareFiles.API.ComparisonTools.CreateParmsForMeld</a></td><td>1</td><td>0</td><td>1</td></tr>
<tr class="uncovered"><td><a href="#listing_23" title="Link to listing">#.CompareFiles.CompareFiles.API.ComparisonTools.CreateParmsForUltraCompare</a></td><td>1</td><td>0</td><td>1</td></tr>
<tr class="uncovered"><td><a href="#listing_24" title="Link to listing">#.CompareFiles.CompareFiles.API.ComparisonTools.CreateParmsForWinMerge</a></td><td>1</td><td>0</td><td>1</td></tr>
<tr class="uncovered"><td><a href="#listing_25" title="Link to listing">#.CompareFiles.CompareFiles.Admin.EstablishAPI</a></td><td>16←≢2-7,10-11,13-18,20,23</td><td>0</td><td>16</td></tr>
<tr class="uncovered"><td><a href="#listing_26" title="Link to listing">#.CompareFiles.CompareFiles.ComparisonTools.BeyondCompare</a></td><td>23←≢2-3,5-7,9-10,13-14,16,18-19,21,23-24,26-27,29-30,33-36</td><td>0</td><td>23</td></tr>
<tr class="uncovered"><td><a href="#listing_27" title="Link to listing">#.CompareFiles.CompareFiles.ComparisonTools.CompareIt</a></td><td>21←≢2-3,5-9,11,14-17,19,22-23,25-26,28-29,32-33</td><td>0</td><td>21</td></tr>
<tr class="uncovered"><td><a href="#listing_28" title="Link to listing">#.CompareFiles.CompareFiles.ComparisonTools.CreateParmsForBeyondCompare</a></td><td>9←≢2-10</td><td>0</td><td>9</td></tr>
<tr class="uncovered"><td><a href="#listing_29" title="Link to listing">#.CompareFiles.CompareFiles.ComparisonTools.CreateParmsForCompareIt</a></td><td>9←≢2-10</td><td>0</td><td>9</td></tr>
<tr class="uncovered"><td><a href="#listing_30" title="Link to listing">#.CompareFiles.CompareFiles.ComparisonTools.CreateParmsForKDiff3</a></td><td>7←≢2-8</td><td>0</td><td>7</td></tr>
<tr class="uncovered"><td><a href="#listing_31" title="Link to listing">#.CompareFiles.CompareFiles.ComparisonTools.CreateParmsForMeld</a></td><td>5←≢2-6</td><td>0</td><td>5</td></tr>
<tr class="uncovered"><td><a href="#listing_32" title="Link to listing">#.CompareFiles.CompareFiles.ComparisonTools.CreateParmsForUltraCompare</a></td><td>7←≢2-8</td><td>0</td><td>7</td></tr>
<tr class="uncovered"><td><a href="#listing_33" title="Link to listing">#.CompareFiles.CompareFiles.ComparisonTools.CreateParmsForWinMerge</a></td><td>9←≢2-10</td><td>0</td><td>9</td></tr>
<tr class="uncovered"><td><a href="#listing_34" title="Link to listing">#.CompareFiles.CompareFiles.ComparisonTools.KDiff3</a></td><td>18←≢2-3,5-7,9-10,12-13,15,17-18,20,22-26</td><td>0</td><td>18</td></tr>
<tr class="uncovered"><td><a href="#listing_35" title="Link to listing">#.CompareFiles.CompareFiles.ComparisonTools.Meld</a></td><td>9←≢2-3,5-7,9-10,12-13</td><td>0</td><td>9</td></tr>
<tr class="uncovered"><td><a href="#listing_36" title="Link to listing">#.CompareFiles.CompareFiles.ComparisonTools.UltraCompare</a></td><td>15←≢2-3,5-7,9-10,12-13,15,17-18,20,23-24</td><td>0</td><td>15</td></tr>
<tr class="uncovered"><td><a href="#listing_37" title="Link to listing">#.CompareFiles.CompareFiles.ComparisonTools.WinMerge</a></td><td>23←≢2-3,5-7,9-10,12-17,19-20,22-23,25,27-28,30,32-33</td><td>0</td><td>23</td></tr>
<tr class="fullyCovered"><td><a href="#listing_38" title="Link to listing">#.CompareFiles.CompareFiles.Assert</a></td><td></td><td>100</td><td>0</td></tr>
<tr class="fullyCovered"><td><a href="#listing_39" title="Link to listing">#.CompareFiles.CompareFiles.API.Compare</a></td><td></td><td>100</td><td>0</td></tr>
<tr class="fullyCovered"><td><a href="#listing_40" title="Link to listing">#.CompareFiles.CompareFiles.API.EstablishCompareEXE</a></td><td></td><td>100</td><td>0</td></tr>
<tr class="fullyCovered"><td><a href="#listing_41" title="Link to listing">#.CompareFiles.CompareFiles.API.Use</a></td><td></td><td>100</td><td>0</td></tr>
<tr class="fullyCovered"><td><a href="#listing_42" title="Link to listing">#.CompareFiles.CompareFiles.API.ComparisonTools.BeyondCompare</a></td><td></td><td>100</td><td>0</td></tr>
<tr class="fullyCovered"><td><a href="#listing_43" title="Link to listing">#.CompareFiles.CompareFiles.API.ComparisonTools.CompareIt</a></td><td></td><td>100</td><td>0</td></tr>
<tr class="fullyCovered"><td><a href="#listing_44" title="Link to listing">#.CompareFiles.CompareFiles.API.ComparisonTools.KDiff3</a></td><td></td><td>100</td><td>0</td></tr>
<tr class="fullyCovered"><td><a href="#listing_45" title="Link to listing">#.CompareFiles.CompareFiles.API.ComparisonTools.Meld</a></td><td></td><td>100</td><td>0</td></tr>
<tr class="fullyCovered"><td><a href="#listing_46" title="Link to listing">#.CompareFiles.CompareFiles.API.ComparisonTools.UltraCompare</a></td><td></td><td>100</td><td>0</td></tr>
<tr class="fullyCovered"><td><a href="#listing_47" title="Link to listing">#.CompareFiles.CompareFiles.API.ComparisonTools.WinMerge</a></td><td></td><td>100</td><td>0</td></tr>
</tbody>
</table>
</div>
<script>
$(document).ready(function() {
    var oTable;
    oTable = $("#percent").DataTable( {
        paging:   false,
        ordering: true,
        info:     true,
        fixedHeader: true,
        order: [2,"asc"],
        dom: "Bft",
        drawCallback: function( settings ) {
             var api = this.api();
             $('.header[id^="listing_"]').next().addBack().css("display","none");
             api.rows( {page:"current"} ).data().each(function(data){
              id = data[0];
              id = id.match(/"(\#.*?)"/);
              if (id){$(id[1]).next().addBack().css("display","block");}
             })
        },      
        buttons: [
        {
            text: "Partly covered (0)",
            titleAttr: "50%",
            className: "active",
            action: function ( e, dt, node, config ) {
                var text = this.text();
                var search = "^(?!(0%|100%)).*";
                oTable.column(2)
                    .search(search,true,false,false)
                    .draw();
                $(".dt-buttons button").removeClass("active");
                this.active( true );
            }
        },
        {
            text: "Uncovered (37)",
            titleAttr: "0%",
            className: "active",
            action: function ( e, dt, node, config ) {
                var text = this.text();
                var search = "^0%";
                oTable.column(2)
                    .search(search,true,false,false)
                    .draw();
                $(".dt-buttons button").removeClass("active");
                this.active( true );
            }
        },
        {
            text: "Fully covered (10)",
            titleAttr: "100%",
            className: "active",
            action: function ( e, dt, node, config ) {
                var text = this.text();
                var search = "100%";
                oTable.column(2)
                    .search(search,true,false,false)
                    .draw();
                $(".dt-buttons button").removeClass("active");
                this.active( true );
            }
        },
        {
            text: "All (47)",
            titleAttr: "all",
            className: "active",
            action: function ( e, dt, node, config ) {
                var text = this.text();
                var search = ".";
                oTable.column(2)
                    .search(search,true,false,false)
                    .draw();
                $(".dt-buttons button").removeClass("active");
                this.active( true );
            }
        },
    ],
 
        columnDefs: [
            {className: "align-right", targets: [2,3]
            },
            {
                render: function ( data, type, row, meta ) {
                            return data+"%" ;        
                        },
                targets: 2
            }
        ]             
    } );
    oTable.button(0).trigger();

} );    
</script>
<h2>Listings</h2>
<code class="header" id="listing_1">#.CompareFiles.CompareFiles.Compare &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  r←{exe}Compare parms</code>
<code class="emphasize">→[1]   :If 0=⎕NC'A'</code>
<code class="emphasize">→[2]       Init ⍬</code>
<code> [3]   :EndIf</code>
<code class="emphasize">→[4]   :If 0=parms.⎕NC'saveFlag'</code>
<code class="emphasize">→[5]       parms.saveFlag←0</code>
<code> [6]   :EndIf</code>
<code class="emphasize">→[7]   :If 0=parms.⎕NC'use'</code>
<code class="emphasize">→[8]       parms.(use name)←parms.saveFlag EstablishCompareEXE parms.name</code>
<code> [9]   :EndIf</code>
<code class="emphasize">→[10]  ('No function found for comparison tool "',parms.name,'"')Assert 3=ComparisonTools.⎕NC parms.name</code>
<code class="emphasize">→[11]  r←⍎'ComparisonTools.',parms.name,' parms'</code>
<code> [12] ⍝Done</code>
</div>
<code class="header" id="listing_2">#.CompareFiles.CompareFiles.CreateAPI &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  {r}←{tellLink}CreateAPI flag</code>
<code> [1]  ⍝ Creates cover functions for all API functions in ##.API from ##.Public.\\</code>
<code> [2]  ⍝ If ⍺←1 then Link will be told.</code>
<code> [3]  ⍝ Without ⍺ the user will be asked whether Link should be told.</code>
<code class="emphasize">→[4]   r←⍬</code>
<code class="emphasize">→[5]   tellLink←{0&lt;⎕NC ⍵:⍎⍵ ⋄ ¯1}'tellLink'</code>
<code class="emphasize">→[6]   :If flag</code>
<code class="emphasize">→[7]       :If 0&lt;≢list1←↓##.API.⎕NL⍳16</code>
<code class="emphasize">→[8]           ⎕SE.Link.Expunge¨(⊂(⍕⎕THIS),'.##.API.'),¨list1</code>
<code> [9]       :EndIf</code>
<code class="emphasize">→[10]      list2←##.Public~'Methods' 'Public' 'GoToGitHub'</code>
<code class="emphasize">→[11]      ##.API.{⍎⍵,'←{⍺←⊣ ⋄ ⍺ ##.',⍵,' ⍵}'}¨list2</code>
<code class="emphasize">→[12]      :If (,1)≡,tellLink</code>
<code class="emphasize">→[13]      :OrIf 1 CommTools.YesOrNo'Tell Link?'</code>
<code class="emphasize">→[14]          r,←⎕SE.Link.Add¨##.API.((⊂(⍕⎕THIS),'.'),¨↓⎕NL 3)</code>
<code> [15]      :EndIf</code>
<code> [16]  :EndIf</code>
</div>
<code class="header" id="listing_3">#.CompareFiles.CompareFiles.DropUnknownUtilities &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  (exes_ names_)←DropUnknownUtilities(exes names)</code>
<code> [1]  ⍝ If an EXE is neither a absolute path nor found on PATH it's dropped.</code>
<code class="emphasize">→[2]   paths←';'(≠⊆⊢)2 ⎕NQ #'GetEnvironment' 'PATH'</code>
<code class="emphasize">→[3]   paths/⍨←~':\WINDOWS'{b←':\WINDOWS'{⍺∘≡¨(≢⍺)↑¨1↓¨⍵}paths ⋄ b∧(⊃¨(1+≢⍺)↓¨⍵)∊¨⊂' \'}paths</code>
<code class="emphasize">→[4]   exes_←names_←''</code>
<code class="emphasize">→[5]   :For exe :In exes</code>
<code class="emphasize">→[6]       :If ':'∊exe                            ⍝ Is it an ...</code>
<code class="emphasize">→[7]       :OrIf '/'=1⍴exe                        ⍝ ... absolute path ...</code>
<code class="emphasize">→[8]           :If F.IsFile exe                   ⍝ ... and does exist?</code>
<code class="emphasize">→[9]               exes_,←⊂exe                    ⍝ Then it's fine</code>
<code class="emphasize">→[10]              names_,←⊂(exes⍳⊂exe)⊃names</code>
<code> [11]          :EndIf</code>
<code> [12]      :Else</code>
<code class="emphasize">→[13]          :If ∨/b←F.IsFile paths,¨⊂'/',exe   ⍝ To be found on PATH somewhere?</code>
<code class="emphasize">→[14]              exes_,←⊂((b⍳1)⊃paths),'/',exe  ⍝ Then it's fine</code>
<code class="emphasize">→[15]              names_,←⊂(exes⍳⊂exe)⊃names</code>
<code> [16]          :EndIf</code>
<code> [17]      :EndIf</code>
<code> [18]  :EndFor</code>
<code> [19] ⍝Done</code>
</div>
<code class="header" id="listing_4">#.CompareFiles.CompareFiles.EstablishAPIForNewFunctions &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  {r}←into EstablishAPIForNewFunctions list</code>
<code class="emphasize">→[1]   r←⍬</code>
<code class="emphasize">→[2]   :For this :In list</code>
<code class="emphasize">→[3]       :If ∨/'CreateParmsFor'⍷this</code>
<code class="emphasize">→[4]           Assert' '=1↑0⍴into.⎕FX('ns←',this)('ns←##.##.ComparisonTools.',this)</code>
<code> [5]       :Else</code>
<code class="emphasize">→[6]           Assert' '=1↑0⍴into.⎕FX,⊂this,'←{##.##.ComparisonTools.',this,' ⍵}'</code>
<code> [7]       :EndIf</code>
<code> [8]   :EndFor</code>
<code> [9]  ⍝Done</code>
</div>
<code class="header" id="listing_5">#.CompareFiles.CompareFiles.EstablishCompareEXE &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  (exe name)←{force}EstablishCompareEXE use</code>
<code> [1]  ⍝ Tries to establish which exe/name to use for the comparison.\\</code>
<code> [2]  ⍝  * If `use` is not empty it is used</code>
<code> [3]  ⍝  * Otherwise INI.Default is checked: if it is not empty it is used</code>
<code> [4]  ⍝  * If neither is set then a list with all available utilities is compiled.</code>
<code> [5]  ⍝    * If that list has just just one item it is used</code>
<code> [6]  ⍝    * Otherwise the user is interrogated, unless `force` is 1 (default is 0) when the first item is returned.</code>
<code class="emphasize">→[7]   exe←name←''</code>
<code class="emphasize">→[8]   force←{0&lt;⎕NC ⍵:⍎⍵ ⋄ 0}'force'</code>
<code class="emphasize">→[9]   {}Init⍣(⊃0=⎕NC'INI')⊢⍬</code>
<code class="emphasize">→[10]  (exes names default)←INI.(EXEs Names Default)</code>
<code class="emphasize">→[11]  'No comparison utility available/defined'Assert 0&lt;≢exes</code>
<code class="emphasize">→[12]  (exes names)←DropUnknownUtilities exes names</code>
<code class="emphasize">→[13]  'No comparison utility found'Assert 0&lt;≢exes</code>
<code class="emphasize">→[14]  saveFlag←0</code>
<code class="emphasize">→[15]  :If 0&lt;≢use</code>
<code class="emphasize">→[16]  :AndIf (,'?')≢,use</code>
<code class="emphasize">→[17]      ('Comparison utility "',use,'" is not available')Assert(⊂⎕C use)∊⎕C names</code>
<code class="emphasize">→[18]      ind←(⎕C names)⍳⊂⎕C use</code>
<code class="emphasize">→[19]      (exe name)←ind∘⊃¨exes names</code>
<code class="emphasize">→[20]  :ElseIf 0&lt;≢default</code>
<code class="emphasize">→[21]  :AndIf (,'?')≢,use</code>
<code class="emphasize">→[22]      ind←(⎕C names)⍳⊂⎕C default</code>
<code class="emphasize">→[23]      'Default definition in INI file is invalid'Assert ind≤≢exes</code>
<code class="emphasize">→[24]      (exe name)←ind⊃¨exes names</code>
<code> [25]  :Else</code>
<code class="emphasize">→[26]      :If 1=≢exes</code>
<code class="emphasize">→[27]          (exe name)←⊃¨exes names            ⍝ There is just one, so that rules the day</code>
<code> [28]      :Else</code>
<code class="emphasize">→[29]          :If force</code>
<code class="emphasize">→[30]              (exe name)←1⊃¨exes names       ⍝ There is just one, so that rules the day, but it won't be remembered</code>
<code class="emphasize">→[31]          :Else                              ⍝ We need to interrogate the user</code>
<code class="emphasize">→[32]              :If 0&lt;≢i←⍸names≡¨⊂default</code>
<code class="emphasize">→[33]                  names[i]←⊂(i⊃names),' *'</code>
<code> [34]              :EndIf</code>
<code class="emphasize">→[35]              ind←'Select your preferred comparison utility (will be remembered)'CommTools.Select names</code>
<code class="emphasize">→[36]              →(0=≢ind)/0                    ⍝ She changed her mind: nothing selected</code>
<code class="emphasize">→[37]              (exe name)←ind⊃¨exes names</code>
<code class="emphasize">→[38]              saveFlag←CommTools.YesOrNo'Do want to make this change permanent?'</code>
<code> [39]          :EndIf</code>
<code> [40]      :EndIf</code>
<code> [41]  :EndIf</code>
<code class="emphasize">→[42]  :If saveFlag</code>
<code class="emphasize">→[43]      INI.Default←name</code>
<code class="emphasize">→[44]      INI WriteJSON5 GetIniFilename</code>
<code> [45]  :EndIf</code>
<code> [46] ⍝Done</code>
</div>
<code class="header" id="listing_6">#.CompareFiles.CompareFiles.GetIniFilename &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> iniFilename←GetIniFilename</code>
<code class="emphasize">→[1]  iniFilename←GetPathToINI,'ini.json5'</code>
</div>
<code class="header" id="listing_7">#.CompareFiles.CompareFiles.GetMyUCMDsPath &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←GetMyUCMDsPath</code>
<code class="emphasize">→[1]  :If 'Win'≡3⍴1⊃# ⎕WG'APLVersion '</code>
<code class="emphasize">→[2]      r←(2 ⎕NQ #'GetEnvironment' 'USERPROFILE'),'\Documents\MyUCMDs\'</code>
<code> [3]  :Else</code>
<code class="emphasize">→[4]      r←(⊃⎕SH'echo $HOME'),'/MyUCMDs/'</code>
<code> [5]  :EndIf</code>
</div>
<code class="header" id="listing_8">#.CompareFiles.CompareFiles.GetPathToINI &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  r←GetPathToINI</code>
<code class="emphasize">→[1]   :Select ⎕C APLTreeUtils2.GetOperatingSystem''</code>
<code class="emphasize">→[2]   :Case 'win'</code>
<code class="emphasize">→[3]       r←(2 ⎕NQ #'GetEnvironment' 'AppData'),'/Dyalog/'</code>
<code class="emphasize">→[4]   :Case 'mac'</code>
<code class="emphasize">→[5]       r←'/Applications/Dyalog/'</code>
<code class="emphasize">→[6]   :Case 'lin'</code>
<code class="emphasize">→[7]       r←'/Applications/mdyalog/'</code>
<code> [8]   :Else</code>
<code class="emphasize">→[9]       'The current operating system is not supported'⎕SIGNAL 11</code>
<code> [10]  :EndSelect</code>
<code class="emphasize">→[11]  r,←'aplteam/CompareFiles/'</code>
<code> [12] ⍝Done</code>
</div>
<code class="header" id="listing_9">#.CompareFiles.CompareFiles.Init &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  {r}←Init dummy</code>
<code class="emphasize">→[1]   r←⍬</code>
<code class="emphasize">→[2]   A←APLTreeUtils2 ⋄ F←FilesAndDirs</code>
<code class="emphasize">→[3]   :If ~⎕NEXISTS path←GetPathToINI</code>
<code class="emphasize">→[4]       3 ⎕MKDIR path</code>
<code> [5]   :EndIf</code>
<code class="emphasize">→[6]   :If ~⎕NEXISTS path,'ini.json5'</code>
<code> [7]       ⍝ The user command has not been properly installed yet</code>
<code class="emphasize">→[8]       :If 0=##.⎕NC'CiderConfig'  ⍝ Package?!</code>
<code class="emphasize">→[9]           iniFilename←TatinVars.HOME,'/ini.json5'</code>
<code class="emphasize">→[10]      :Else  ⍝ Opened as a Cider Project</code>
<code class="emphasize">→[11]          iniFilename←##.CiderConfig.HOME,'/',iniFilename</code>
<code> [12]      :EndIf</code>
<code class="emphasize">→[13]      path ⎕NCOPY⍠('IfExists' 'Replace')⊢iniFilename</code>
<code> [14]  :EndIf</code>
<code class="emphasize">→[15]  :If LoadUserDefinedComparisonUtilities GetPathToINI</code>
<code class="emphasize">→[16]  :OrIf 0=⎕NC'INI'</code>
<code class="emphasize">→[17]      iniFilename←GetIniFilename</code>
<code class="emphasize">→[18]      buff←ReadJSON5 iniFilename</code>
<code class="emphasize">→[19]      'INI'⎕NS buff  ⍝ Overcome the fact that ⎕JSON always creates in #!</code>
<code> [20]  :EndIf</code>
<code> [21] ⍝Done</code>
</div>
<code class="header" id="listing_10">#.CompareFiles.CompareFiles.LoadUserDefinedComparisonUtilities &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  r←LoadUserDefinedComparisonUtilities path</code>
<code> [1]  ⍝ Checks whether there are comparison utilities in the path that holds the INI file that need to be loaded into ⎕SE.\\</code>
<code> [2]  ⍝ Returns 1 in case something was loaded and 0 otherwise</code>
<code class="emphasize">→[3]   r←0</code>
<code class="emphasize">→[4]   :If 0&lt;≢list←F.ListFiles path,'/*.aplf'</code>
<code class="emphasize">→[5]       names←{2⊃⎕NPARTS ⍵}¨list</code>
<code class="emphasize">→[6]       into←⎕SE.CompareFiles.ComparisonTools</code>
<code class="emphasize">→[7]       into2←⎕SE.CompareFiles.##.ComparisonTools</code>
<code class="emphasize">→[8]   :AndIf ~∧/3=⊃∘into.⎕NC¨names</code>
<code class="emphasize">→[9]       into←⍕into</code>
<code class="emphasize">→[10]      path←{⍵↓⍨¯1×∨/'/\'∊¯1↑⍵}path</code>
<code class="emphasize">→[11]      :Trap 0</code>
<code class="emphasize">→[12]          parms←⎕NS''</code>
<code class="emphasize">→[13]          parms.overwrite←1</code>
<code class="emphasize">→[14]          res←parms ⎕SE.Link.Import into2 path</code>
<code class="emphasize">→[15]          Assert'Imported: '{⍺≡(≢⍺)↑⍵}res</code>
<code class="emphasize">→[16]          r←1</code>
<code class="emphasize">→[17]          (⍎into)EstablishAPIForNewFunctions names</code>
<code> [18]      :Else</code>
<code class="emphasize">→[19]          qdmx←⎕DMX</code>
<code class="emphasize">→[20]          qdmx.EM Assert 0</code>
<code> [21]      :EndTrap</code>
<code> [22]  :EndIf</code>
<code> [23] ⍝Done</code>
</div>
<code class="header" id="listing_11">#.CompareFiles.CompareFiles.Public &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←Public</code>
<code class="emphasize">→[1]  r←'ComparisonTools.'∘,¨' '~⍨¨↓ComparisonTools.⎕NL 3</code>
<code class="emphasize">→[2]  r,←⊂'Compare'</code>
<code class="emphasize">→[3]  r,←⊂'EstablishCompareEXE'</code>
<code class="emphasize">→[4]  r,←⊂'GetPathToINI'</code>
<code class="emphasize">→[5]  r,←⊂'Use'</code>
<code class="emphasize">→[6]  r,←⊂'Version'</code>
</div>
<code class="header" id="listing_12">#.CompareFiles.CompareFiles.ReadJSON5 &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←ReadJSON5 filename</code>
<code class="emphasize">→[1]  txt←⊃⎕NGET filename</code>
<code class="emphasize">→[2]  r←0 ⎕JSON⍠('Dialect' 'JSON5')⊣txt</code>
</div>
<code class="header" id="listing_13">#.CompareFiles.CompareFiles.RunProcess &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  {r}←RunProcess cmd</code>
<code> [1]  ⍝ Runs cmd and returns a namespace with three variables: ExitCode, StdOut and StdErr.</code>
<code> [2]  ⍝ Note that Dyalog (wrongly) writes ordinary session output to StdErr.</code>
<code> [3]  ⍝ Requires .NET under Windows but not elsewhere.</code>
<code class="emphasize">→[4]   r←⎕NS''</code>
<code class="emphasize">→[5]   :If 'Win'≡A.GetOperatingSystem ⍬</code>
<code class="emphasize">→[6]       ⎕IO←0</code>
<code class="emphasize">→[7]       ⎕USING←'System' 'System.IO' 'System.Diagnostics,System.dll'</code>
<code class="emphasize">→[8]       p←⎕NEW Process</code>
<code class="emphasize">→[9]       i←p.StartInfo</code>
<code class="emphasize">→[10]      i.FileName←{'"'=1⍴⍵:⍵↑⍨1++/2&gt;+\'"'=⍵ ⋄ ⍵↑⍨¯1+⍵⍳' '}cmd</code>
<code class="emphasize">→[11]      i.Arguments←(1+≢i.FileName)↓cmd</code>
<code class="emphasize">→[12]      i.RedirectStandardOutput←1</code>
<code class="emphasize">→[13]      i.RedirectStandardInput←1</code>
<code class="emphasize">→[14]      i.RedirectStandardError←1</code>
<code class="emphasize">→[15]      i.UseShellExecute←0</code>
<code class="emphasize">→[16]      i.CreateNoWindow←1</code>
<code class="emphasize">→[17]      {}p.Start ⍬</code>
<code class="emphasize">→[18]      re←⎕NEW StreamReader p.StandardError.BaseStream</code>
<code class="emphasize">→[19]      ro←⎕NEW StreamReader p.StandardOutput.BaseStream</code>
<code class="emphasize">→[20]      t←r{⍺.StdErr←⍵.ReadToEnd}&amp;re</code>
<code class="emphasize">→[21]      r.StdOut←ro.ReadToEnd</code>
<code class="emphasize">→[22]      op←{6::0 ⋄ z←⍺⍺ ⍵}</code>
<code class="emphasize">→[23]      {}p.WaitForExit op ⍬</code>
<code class="emphasize">→[24]      {}⎕TSYNC op t</code>
<code class="emphasize">→[25]      r.ExitCode←p.ExitCode</code>
<code class="emphasize">→[26]      rtc←{' '@((⎕UCS 9)∘=)⍵}</code>
<code class="emphasize">→[27]      pfn←{⍵⊆⍨~⍵∊⎕UCS 10 13}</code>
<code class="emphasize">→[28]      r.StdOut←pfn rtc r.StdOut</code>
<code class="emphasize">→[29]      r.StdErr←pfn rtc r.StdErr</code>
<code> [30]  :Else</code>
<code class="emphasize">→[31]      ⎕IO←1</code>
<code class="emphasize">→[32]      r←⎕NS''</code>
<code class="emphasize">→[33]      r.ExitCode←0</code>
<code class="emphasize">→[34]      r.StdErr←''</code>
<code class="emphasize">→[35]      folder←{0&lt;⎕NC ⍵:⍎⍵ ⋄ ''}'folder'</code>
<code class="emphasize">→[36]      tfn←##.F.GetTempFilename2'APLGit'   ⍝ Temp FileName</code>
<code class="emphasize">→[37]      cmd,←' 2&gt;"',tfn,'"'</code>
<code class="emphasize">→[38]      buff←⎕SH cmd</code>
<code class="emphasize">→[39]      r.StdOut←{'UTF-8'⎕UCS ⎕UCS ⍵}¨buff</code>
<code class="emphasize">→[40]      :If 0&lt;≢msg←{22::'' ⋄ ⊃⎕NGET ⍵ 1}tfn</code>
<code class="emphasize">→[41]          r.ExitCode←1</code>
<code class="emphasize">→[42]          :If 2=|≡msg</code>
<code class="emphasize">→[43]          :AndIf 1=≢msg</code>
<code class="emphasize">→[44]              r.StdErr←∊msg</code>
<code> [45]          :EndIf</code>
<code> [46]      :EndIf</code>
<code class="emphasize">→[47]      ##.F.DeleteFile tfn</code>
<code> [48]  :EndIf</code>
</div>
<code class="header" id="listing_14">#.CompareFiles.CompareFiles.Use &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  {(exe name)}←{save}Use name</code>
<code> [1]  ⍝ Defines the Comparison utility to be used.</code>
<code> [2]  ⍝ Must be either available on the PATH environment variable or the exe must be a fully qualified path,</code>
<code> [3]  ⍝ otherwise an error is thrown.</code>
<code> [4]  ⍝ By default this won't change the default comparison, but you can change this by passing a 1 as `⍺`.</code>
<code class="emphasize">→[5]   save←{0&lt;⎕NC ⍵:⍎⍵ ⋄ 0}'save'</code>
<code class="emphasize">→[6]   (exes names default)←INI.(EXEs Names Default)</code>
<code class="emphasize">→[7]   'No comparison utility available/defined'Assert 0&lt;≢exes</code>
<code class="emphasize">→[8]   (exe name)←EstablishCompareEXE name</code>
<code class="emphasize">→[9]   :If save</code>
<code class="emphasize">→[10]  :AndIf 0&lt;≢name</code>
<code class="emphasize">→[11]      INI.Default←name</code>
<code class="emphasize">→[12]      {}INI WriteJSON5 GetIniFilename</code>
<code> [13]  :EndIf</code>
<code> [14] ⍝Done</code>
</div>
<code class="header" id="listing_15">#.CompareFiles.CompareFiles.Version &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←Version</code>
<code> [1] ⍝ See also `History`</code>
<code class="emphasize">→[2]  :If 0&lt;##.⎕NC'CiderConfig'</code>
<code class="emphasize">→[3]      json←⊃⎕NGET ##.CiderConfig.HOME,'/apl-package.json'</code>
<code> [4]  :Else</code>
<code class="emphasize">→[5]      json←⊃⎕NGET TatinVars.HOME,'/apl-package.json'</code>
<code> [6]  :EndIf</code>
<code class="emphasize">→[7]  ns←⎕JSON⍠('Dialect' 'JSON5')⊢json</code>
<code class="emphasize">→[8]  r←ns.version</code>
</div>
<code class="header" id="listing_16">#.CompareFiles.CompareFiles.WriteJSON5 &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> {r}←data WriteJSON5 filename</code>
<code class="emphasize">→[1]  txt←1 ⎕JSON⍠('Dialect' 'JSON5')('Compact' 0)⊣data</code>
<code class="emphasize">→[2]  r←(⊂txt)⎕NPUT filename 1</code>
</div>
<code class="header" id="listing_17">#.CompareFiles.CompareFiles.API.GetPathToINI &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←GetPathToINI</code>
<code class="emphasize">→[1]  r←##.GetPathToINI</code>
</div>
<code class="header" id="listing_18">#.CompareFiles.CompareFiles.API.Version &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←Version</code>
<code class="emphasize">→[1]  r←##.Version</code>
</div>
<code class="header" id="listing_19">#.CompareFiles.CompareFiles.API.ComparisonTools.CreateParmsForBeyondCompare &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> ns←CreateParmsForBeyondCompare</code>
<code class="emphasize">→[1]  ns←##.##.ComparisonTools.CreateParmsForBeyondCompare</code>
</div>
<code class="header" id="listing_20">#.CompareFiles.CompareFiles.API.ComparisonTools.CreateParmsForCompareIt &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> ns←CreateParmsForCompareIt</code>
<code class="emphasize">→[1]  ns←##.##.ComparisonTools.CreateParmsForCompareIt</code>
</div>
<code class="header" id="listing_21">#.CompareFiles.CompareFiles.API.ComparisonTools.CreateParmsForKDiff3 &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> ns←CreateParmsForKDiff3</code>
<code class="emphasize">→[1]  ns←##.##.ComparisonTools.CreateParmsForKDiff3</code>
</div>
<code class="header" id="listing_22">#.CompareFiles.CompareFiles.API.ComparisonTools.CreateParmsForMeld &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> ns←CreateParmsForMeld</code>
<code class="emphasize">→[1]  ns←##.##.ComparisonTools.CreateParmsForMeld</code>
</div>
<code class="header" id="listing_23">#.CompareFiles.CompareFiles.API.ComparisonTools.CreateParmsForUltraCompare &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> ns←CreateParmsForUltraCompare</code>
<code class="emphasize">→[1]  ns←##.##.ComparisonTools.CreateParmsForUltraCompare</code>
</div>
<code class="header" id="listing_24">#.CompareFiles.CompareFiles.API.ComparisonTools.CreateParmsForWinMerge &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> ns←CreateParmsForWinMerge</code>
<code class="emphasize">→[1]  ns←##.##.ComparisonTools.CreateParmsForWinMerge</code>
</div>
<code class="header" id="listing_25">#.CompareFiles.CompareFiles.Admin.EstablishAPI &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  {r}←EstablishAPI flag</code>
<code> [1]  ⍝ Creates cover functions for all API functions in ##.API according to ##.Public.\\</code>
<code class="emphasize">→[2]   r←⍬</code>
<code class="emphasize">→[3]   :If flag</code>
<code class="emphasize">→[4]       :If 0&lt;##.⎕NC'API'</code>
<code class="emphasize">→[5]           :If 0&lt;≢list1←↓##.API.⎕NL⍳16</code>
<code class="emphasize">→[6]               ⎕SE.Link.Expunge¨(⊂(⍕⎕THIS),'.##.API.'),¨list1</code>
<code class="emphasize">→[7]               'API.ComparisonTools'##.⎕NS''</code>
<code> [8]           :EndIf</code>
<code> [9]       :Else</code>
<code class="emphasize">→[10]          'API'##.⎕NS''</code>
<code class="emphasize">→[11]          'API.ComparisonTools'##.⎕NS''</code>
<code> [12]      :EndIf</code>
<code class="emphasize">→[13]      list2←##.Public~'' ''</code>
<code class="emphasize">→[14]      :For this :In list2</code>
<code class="emphasize">→[15]          :If 0=1 2⊃##.⎕AT this ⍝ Niladic?</code>
<code class="emphasize">→[16]              :If '.'∊this</code>
<code class="emphasize">→[17]                  name←{⍵↓⍨⍵⍳'.'}this</code>
<code class="emphasize">→[18]                  ##.API.ComparisonTools.⎕FX('r←',name)('r←##.##.ComparisonTools.',name)</code>
<code> [19]              :Else</code>
<code class="emphasize">→[20]                  ##.API.⎕FX('r←',this)('r←##.',this)</code>
<code> [21]              :EndIf</code>
<code> [22]          :Else</code>
<code class="emphasize">→[23]              ##.API.{⍎⍵,'←{⍺←⊣ ⋄ ⍺ ##.',⍵,' ⍵}'}this</code>
<code> [24]          :EndIf</code>
<code> [25]      :EndFor</code>
<code> [26]  :EndIf</code>
</div>
<code class="header" id="listing_26">#.CompareFiles.CompareFiles.ComparisonTools.BeyondCompare &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  (rc out err)←BeyondCompare parms</code>
<code> [1]  ⍝ Function for the comparison utility BeyondCompare</code>
<code class="emphasize">→[2]   :If 0=parms.⎕NC'use'</code>
<code class="emphasize">→[3]       parms.use←⊃##.EstablishCompareEXE parms.name</code>
<code> [4]   :EndIf</code>
<code class="emphasize">→[5]   cmd←'"',(parms.use~'"'),'" '</code>
<code class="emphasize">→[6]   :If 0&lt;≢parms.file1</code>
<code class="emphasize">→[7]       cmd,←'"',(parms.file1~'"'),'"'</code>
<code> [8]   :EndIf</code>
<code class="emphasize">→[9]   :If 0&lt;≢parms.file2</code>
<code class="emphasize">→[10]      cmd,←' "',(parms.file2~'"'),'"'</code>
<code> [11]  :EndIf</code>
<code> [12] </code>
<code class="emphasize">→[13]  :If 0=≢parms.caption1</code>
<code class="emphasize">→[14]      cmd,←' /title1="',(⊃,/1↓⎕NPARTS parms.file1),'"'</code>
<code> [15]  :Else</code>
<code class="emphasize">→[16]      cmd,←' /title1="',(parms.caption1~'"'),'"'</code>
<code> [17]  :EndIf</code>
<code class="emphasize">→[18]  :If 0=≢parms.caption2</code>
<code class="emphasize">→[19]      cmd,←' /title2="',(⊃,/1↓⎕NPARTS parms.file2),'"'</code>
<code> [20]  :Else</code>
<code class="emphasize">→[21]      cmd,←' /title2="',(parms.caption2~'"'),'"'</code>
<code> [22]  :EndIf</code>
<code class="emphasize">→[23]  :If 0=+/parms.(edit1 edit2)</code>
<code class="emphasize">→[24]      cmd,←' /ro1 /ro2'</code>
<code> [25]  :Else</code>
<code class="emphasize">→[26]      :If 0=parms.edit1</code>
<code class="emphasize">→[27]          cmd,←' /ro1'</code>
<code> [28]      :EndIf</code>
<code class="emphasize">→[29]      :If 0=parms.edit2</code>
<code class="emphasize">→[30]          cmd,←' /ro2'</code>
<code> [31]      :EndIf</code>
<code> [32]  :EndIf</code>
<code class="emphasize">→[33]  result←##.RunProcess cmd</code>
<code class="emphasize">→[34]  (rc out err)←result.(ExitCode StdOut ExitCode)</code>
<code class="emphasize">→[35]  :If rc∊0 1 2 11 12 13 14 101</code>
<code class="emphasize">→[36]      rc←0</code>
<code> [37]  :EndIf</code>
<code> [38] ⍝Done</code>
</div>
<code class="header" id="listing_27">#.CompareFiles.CompareFiles.ComparisonTools.CompareIt &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  (rc out err)←CompareIt parms</code>
<code> [1]  ⍝ Function for the comparison utility CompareIt!</code>
<code class="emphasize">→[2]   :If 0=parms.⎕NC'use'</code>
<code class="emphasize">→[3]       parms.use←⊃##.EstablishCompareEXE parms.name</code>
<code> [4]   :EndIf</code>
<code class="emphasize">→[5]   cmd←'"',(parms.use~'"'),'" '</code>
<code class="emphasize">→[6]   :If 0&lt;≢parms.file1</code>
<code class="emphasize">→[7]       cmd,←'"',(parms.file1~'"'),'"'</code>
<code class="emphasize">→[8]       :If 0=≢parms.caption1</code>
<code class="emphasize">→[9]           cmd,←' /="',(⊃,/1↓⎕NPARTS parms.file1),'"'</code>
<code> [10]      :Else</code>
<code class="emphasize">→[11]          cmd,←' /="',(parms.caption1~'"'),'"'</code>
<code> [12]      :EndIf</code>
<code> [13]  :EndIf</code>
<code class="emphasize">→[14]  :If 0&lt;≢parms.file2</code>
<code class="emphasize">→[15]      cmd,←' "',(parms.file2~'"'),'"'</code>
<code class="emphasize">→[16]      :If 0=≢parms.caption2</code>
<code class="emphasize">→[17]          cmd,←' /="',(⊃,/1↓⎕NPARTS parms.file2),'"'</code>
<code> [18]      :Else</code>
<code class="emphasize">→[19]          cmd,←' /="',(parms.caption2~'"'),'"'</code>
<code> [20]      :EndIf</code>
<code> [21]  :EndIf</code>
<code class="emphasize">→[22]  :If 0=+/parms.(edit1,edit2)</code>
<code class="emphasize">→[23]      cmd,←' /R'</code>
<code> [24]  :Else</code>
<code class="emphasize">→[25]      :If 0=parms.edit1</code>
<code class="emphasize">→[26]          cmd,←' /R1'</code>
<code> [27]      :EndIf</code>
<code class="emphasize">→[28]      :If 0=parms.edit2</code>
<code class="emphasize">→[29]          cmd,←' /R2'</code>
<code> [30]      :EndIf</code>
<code> [31]  :EndIf</code>
<code class="emphasize">→[32]  result←##.RunProcess cmd</code>
<code class="emphasize">→[33]  (rc out err)←result.(ExitCode StdOut ExitCode)</code>
<code> [34] ⍝Done</code>
</div>
<code class="header" id="listing_28">#.CompareFiles.CompareFiles.ComparisonTools.CreateParmsForBeyondCompare &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  ns←CreateParmsForBeyondCompare</code>
<code> [1]  ⍝ Creates a namespace with default parameters for BeyondCompare.</code>
<code class="emphasize">→[2]   ns←⎕NS''</code>
<code class="emphasize">→[3]   ns.name←'BeyondCompare'</code>
<code class="emphasize">→[4]   ns.file1←''</code>
<code class="emphasize">→[5]   ns.file2←''</code>
<code class="emphasize">→[6]   ns.edit1←0</code>
<code class="emphasize">→[7]   ns.edit2←0</code>
<code class="emphasize">→[8]   ns.caption1←''</code>
<code class="emphasize">→[9]   ns.caption2←''</code>
<code class="emphasize">→[10]  ns.⎕FX'r←∆List' 'r←{⍵,[1.5]⍎¨⍵}⎕NL-2' 'r←r[⍋↑r[;1];]'</code>
<code> [11] ⍝Done</code>
</div>
<code class="header" id="listing_29">#.CompareFiles.CompareFiles.ComparisonTools.CreateParmsForCompareIt &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  ns←CreateParmsForCompareIt</code>
<code> [1]  ⍝ Creates a namespace with default parameters for CompareIt!</code>
<code class="emphasize">→[2]   ns←⎕NS''</code>
<code class="emphasize">→[3]   ns.name←'CompareIt'</code>
<code class="emphasize">→[4]   ns.file1←''</code>
<code class="emphasize">→[5]   ns.file2←''</code>
<code class="emphasize">→[6]   ns.edit1←0</code>
<code class="emphasize">→[7]   ns.edit2←0</code>
<code class="emphasize">→[8]   ns.caption1←''</code>
<code class="emphasize">→[9]   ns.caption2←''</code>
<code class="emphasize">→[10]  ns.⎕FX'r←∆List' 'r←{⍵,[1.5]⍎¨⍵}⎕NL-2' 'r←r[⍋↑r[;1];]'</code>
<code> [11] ⍝Done</code>
</div>
<code class="header" id="listing_30">#.CompareFiles.CompareFiles.ComparisonTools.CreateParmsForKDiff3 &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  ns←CreateParmsForKDiff3</code>
<code> [1]  ⍝ Creates a namespace with default parameters for KDiff3.</code>
<code class="emphasize">→[2]   ns←⎕NS''</code>
<code class="emphasize">→[3]   ns.name←'KDiff3'</code>
<code class="emphasize">→[4]   ns.file1←''</code>
<code class="emphasize">→[5]   ns.file2←''</code>
<code class="emphasize">→[6]   ns.caption1←''</code>
<code class="emphasize">→[7]   ns.caption2←''</code>
<code class="emphasize">→[8]   ns.⎕FX'r←∆List' 'r←{⍵,[1.5]⍎¨⍵}⎕NL-2' 'r←r[⍋↑r[;1];]'</code>
<code> [9]  ⍝Done</code>
</div>
<code class="header" id="listing_31">#.CompareFiles.CompareFiles.ComparisonTools.CreateParmsForMeld &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> ns←CreateParmsForMeld</code>
<code> [1] ⍝ Creates a namespace with default parameters for Meld.</code>
<code class="emphasize">→[2]  ns←⎕NS''</code>
<code class="emphasize">→[3]  ns.name←'Meld'</code>
<code class="emphasize">→[4]  ns.file1←''</code>
<code class="emphasize">→[5]  ns.file2←''</code>
<code class="emphasize">→[6]  ns.⎕FX'r←∆List' 'r←{⍵,[1.5]⍎¨⍵}⎕NL-2' 'r←r[⍋↑r[;1];]'</code>
<code> [7] ⍝Done</code>
</div>
<code class="header" id="listing_32">#.CompareFiles.CompareFiles.ComparisonTools.CreateParmsForUltraCompare &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  ns←CreateParmsForUltraCompare</code>
<code> [1]  ⍝ Creates a namespace with default parameters for UltraCompare.</code>
<code class="emphasize">→[2]   ns←⎕NS''</code>
<code class="emphasize">→[3]   ns.name←'UltraCompare'</code>
<code class="emphasize">→[4]   ns.file1←''</code>
<code class="emphasize">→[5]   ns.file2←''</code>
<code class="emphasize">→[6]   ns.caption1←''</code>
<code class="emphasize">→[7]   ns.caption2←''</code>
<code class="emphasize">→[8]   ns.⎕FX'r←∆List' 'r←{⍵,[1.5]⍎¨⍵}⎕NL-2' 'r←r[⍋↑r[;1];]'</code>
<code> [9]  ⍝Done</code>
</div>
<code class="header" id="listing_33">#.CompareFiles.CompareFiles.ComparisonTools.CreateParmsForWinMerge &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  ns←CreateParmsForWinMerge</code>
<code> [1]  ⍝ Creates a namespace with default parameters for WinMerge.</code>
<code class="emphasize">→[2]   ns←⎕NS''</code>
<code class="emphasize">→[3]   ns.name←'WinMerge'</code>
<code class="emphasize">→[4]   ns.file1←''</code>
<code class="emphasize">→[5]   ns.file2←''</code>
<code class="emphasize">→[6]   ns.caption1←''</code>
<code class="emphasize">→[7]   ns.caption2←''</code>
<code class="emphasize">→[8]   ns.edit1←0</code>
<code class="emphasize">→[9]   ns.edit2←0</code>
<code class="emphasize">→[10]  ns.⎕FX'r←∆List' 'r←{⍵,[1.5]⍎¨⍵}⎕NL-2' 'r←r[⍋↑r[;1];]'</code>
<code> [11] ⍝Done</code>
</div>
<code class="header" id="listing_34">#.CompareFiles.CompareFiles.ComparisonTools.KDiff3 &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  (rc out err)←KDiff3 parms</code>
<code> [1]  ⍝ Function for the comparison utility KDiff3</code>
<code class="emphasize">→[2]   :If 0=parms.⎕NC'use'</code>
<code class="emphasize">→[3]       parms.use←⊃##.EstablishCompareEXE parms.name</code>
<code> [4]   :EndIf</code>
<code class="emphasize">→[5]   cmd←'"',(parms.use~'"'),'" '</code>
<code class="emphasize">→[6]   :If 0&lt;≢parms.file1</code>
<code class="emphasize">→[7]       cmd,←'"',(parms.file1~'"'),'"'</code>
<code> [8]   :EndIf</code>
<code class="emphasize">→[9]   :If 0&lt;≢parms.file2</code>
<code class="emphasize">→[10]      cmd,←' "',(parms.file2~'"'),'"'</code>
<code> [11]  :EndIf</code>
<code class="emphasize">→[12]  :If 0=≢parms.caption1</code>
<code class="emphasize">→[13]      cmd,←' -L1 "',(⊃,/1↓⎕NPARTS parms.file1),'"'</code>
<code> [14]  :Else</code>
<code class="emphasize">→[15]      cmd,←' -L1 "',(parms.caption1~'"'),'"'</code>
<code> [16]  :EndIf</code>
<code class="emphasize">→[17]  :If 0=≢parms.caption2</code>
<code class="emphasize">→[18]      cmd,←' -L2 "',(⊃,/1↓⎕NPARTS parms.file2),'"'</code>
<code> [19]  :Else</code>
<code class="emphasize">→[20]      cmd,←' -L2 "',(parms.caption2~'"'),'"'</code>
<code> [21]  :EndIf</code>
<code class="emphasize">→[22]  result←##.RunProcess cmd</code>
<code class="emphasize">→[23]  (rc out err)←result.(ExitCode StdOut ExitCode)</code>
<code class="emphasize">→[24]  :If rc∊0 1  ⍝ 0 = file was saved; 1 = file was NOT saved</code>
<code class="emphasize">→[25]      rc←0</code>
<code class="emphasize">→[26]      err←''</code>
<code> [27]  :EndIf</code>
<code> [28] ⍝Done</code>
</div>
<code class="header" id="listing_35">#.CompareFiles.CompareFiles.ComparisonTools.Meld &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  (rc out err)←Meld parms</code>
<code> [1]  ⍝ Function for the comparison utility Meld</code>
<code class="emphasize">→[2]   :If 0=parms.⎕NC'use'</code>
<code class="emphasize">→[3]       parms.use←⊃##.EstablishCompareEXE parms.name</code>
<code> [4]   :EndIf</code>
<code class="emphasize">→[5]   cmd←'"',(parms.use~'"'),'" '</code>
<code class="emphasize">→[6]   :If 0&lt;≢parms.file1</code>
<code class="emphasize">→[7]       cmd,←'"',(parms.file1~'"'),'"'</code>
<code> [8]   :EndIf</code>
<code class="emphasize">→[9]   :If 0&lt;≢parms.file2</code>
<code class="emphasize">→[10]      cmd,←' "',(parms.file2~'"'),'"'</code>
<code> [11]  :EndIf</code>
<code class="emphasize">→[12]  result←##.RunProcess cmd</code>
<code class="emphasize">→[13]  (rc out err)←result.(ExitCode StdOut ExitCode)</code>
<code> [14] ⍝Done</code>
</div>
<code class="header" id="listing_36">#.CompareFiles.CompareFiles.ComparisonTools.UltraCompare &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  (rc out err)←UltraCompare parms</code>
<code> [1]  ⍝ Function for the comparison utility UltraCompare</code>
<code class="emphasize">→[2]   :If 0=parms.⎕NC'use'</code>
<code class="emphasize">→[3]       parms.use←⊃##.EstablishCompareEXE parms.name</code>
<code> [4]   :EndIf</code>
<code class="emphasize">→[5]   cmd←'"',(parms.use~'"'),'" '</code>
<code class="emphasize">→[6]   :If 0&lt;≢parms.file1</code>
<code class="emphasize">→[7]       cmd,←'"',(parms.file1~'"'),'"'</code>
<code> [8]   :EndIf</code>
<code class="emphasize">→[9]   :If 0&lt;≢parms.file2</code>
<code class="emphasize">→[10]      cmd,←' "',(parms.file2~'"'),'"'</code>
<code> [11]  :EndIf</code>
<code class="emphasize">→[12]  :If 0=≢parms.caption1</code>
<code class="emphasize">→[13]      cmd,←' -title1 ',' '~⍨⊃,/1↓⎕NPARTS parms.file1</code>
<code> [14]  :Else</code>
<code class="emphasize">→[15]      cmd,←' -title1 "',(parms.caption1~'"'),'"'</code>
<code> [16]  :EndIf</code>
<code class="emphasize">→[17]  :If 0=≢parms.caption2</code>
<code class="emphasize">→[18]      cmd,←' -title2 ',' '~⍨⊃,/1↓⎕NPARTS parms.file2</code>
<code> [19]  :Else</code>
<code class="emphasize">→[20]      cmd,←' -title2 "',(parms.caption2~'"'),'"'</code>
<code> [21]  :EndIf</code>
<code> [22] </code>
<code class="emphasize">→[23]  result←##.RunProcess cmd</code>
<code class="emphasize">→[24]  (rc out err)←result.(ExitCode StdOut ExitCode)</code>
<code> [25] ⍝Done</code>
</div>
<code class="header" id="listing_37">#.CompareFiles.CompareFiles.ComparisonTools.WinMerge &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  (rc out err)←WinMerge parms</code>
<code> [1]  ⍝ Function for the comparison utility WinMerge</code>
<code class="emphasize">→[2]   :If 0=parms.⎕NC'use'</code>
<code class="emphasize">→[3]       parms.use←⊃##.EstablishCompareEXE parms.name</code>
<code> [4]   :EndIf</code>
<code class="emphasize">→[5]   cmd←'"',(parms.use~'"'),'" '</code>
<code class="emphasize">→[6]   :If 0&lt;≢parms.file1</code>
<code class="emphasize">→[7]       cmd,←'"',(parms.file1~'"'),'"'</code>
<code> [8]   :EndIf</code>
<code class="emphasize">→[9]   :If 0&lt;≢parms.file2</code>
<code class="emphasize">→[10]      cmd,←' "',(parms.file2~'"'),'"'</code>
<code> [11]  :EndIf</code>
<code class="emphasize">→[12]  cmd,←' -m Full'</code>
<code class="emphasize">→[13]  cmd,←' /s-'</code>
<code class="emphasize">→[14]  cmd,←' /u'</code>
<code class="emphasize">→[15]  cmd,←' /e'</code>
<code class="emphasize">→[16]  :If ~parms.edit1</code>
<code class="emphasize">→[17]      cmd,←' /wl'</code>
<code> [18]  :EndIf</code>
<code class="emphasize">→[19]  :If ~parms.edit2</code>
<code class="emphasize">→[20]      cmd,←' /wr'</code>
<code> [21]  :EndIf</code>
<code class="emphasize">→[22]  :If 0=≢parms.caption1</code>
<code class="emphasize">→[23]      cmd,←' /dl "',(⊃,/1↓⎕NPARTS parms.file1),'"'</code>
<code> [24]  :Else</code>
<code class="emphasize">→[25]      cmd,←' /dl "',(parms.caption1~'"'),'"'</code>
<code> [26]  :EndIf</code>
<code class="emphasize">→[27]  :If 0=≢parms.caption2</code>
<code class="emphasize">→[28]      cmd,←' /dr "',(⊃,/1↓⎕NPARTS parms.file2),'"'</code>
<code> [29]  :Else</code>
<code class="emphasize">→[30]      cmd,←' /dr "',(parms.caption2~'"'),'"'</code>
<code> [31]  :EndIf</code>
<code class="emphasize">→[32]  result←##.RunProcess cmd</code>
<code class="emphasize">→[33]  (rc out err)←result.(ExitCode StdOut ExitCode)</code>
<code> [34] ⍝Done</code>
</div>
<code class="header" id="listing_38">#.CompareFiles.CompareFiles.Assert &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> Assert←{⍺←'' ⋄ (,1)≡,⍵:r←1 ⋄ ⎕ML←1 ⋄ ⍺ ⎕SIGNAL 1↓(⊃∊⍵),911}</code>
</div>
<code class="header" id="listing_39">#.CompareFiles.CompareFiles.API.Compare &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> Compare←{⍺←⊢ ⋄ ⍺ ##.Compare ⍵}</code>
</div>
<code class="header" id="listing_40">#.CompareFiles.CompareFiles.API.EstablishCompareEXE &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> EstablishCompareEXE←{⍺←⊢ ⋄ ⍺ ##.EstablishCompareEXE ⍵}</code>
</div>
<code class="header" id="listing_41">#.CompareFiles.CompareFiles.API.Use &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> Use←{⍺←⊢ ⋄ 1:shy←⍺ ##.Use ⍵}</code>
</div>
<code class="header" id="listing_42">#.CompareFiles.CompareFiles.API.ComparisonTools.BeyondCompare &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> BeyondCompare←{##.##.ComparisonTools.BeyondCompare ⍵}</code>
</div>
<code class="header" id="listing_43">#.CompareFiles.CompareFiles.API.ComparisonTools.CompareIt &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> CompareIt←{##.##.ComparisonTools.CompareIt ⍵}</code>
</div>
<code class="header" id="listing_44">#.CompareFiles.CompareFiles.API.ComparisonTools.KDiff3 &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> KDiff3←{##.##.ComparisonTools.KDiff3 ⍵}</code>
</div>
<code class="header" id="listing_45">#.CompareFiles.CompareFiles.API.ComparisonTools.Meld &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> Meld←{##.##.ComparisonTools.Meld ⍵}</code>
</div>
<code class="header" id="listing_46">#.CompareFiles.CompareFiles.API.ComparisonTools.UltraCompare &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> UltraCompare←{##.##.ComparisonTools.UltraCompare ⍵}</code>
</div>
<code class="header" id="listing_47">#.CompareFiles.CompareFiles.API.ComparisonTools.WinMerge &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> WinMerge←{##.##.ComparisonTools.WinMerge ⍵}</code>
</div>
<div id="footer">
<hr>
<p>Created by "CodeCoverage" version 0.10.2+52 from 2023-04-09</p>
</div>

</body>
</html>
